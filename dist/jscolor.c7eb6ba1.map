{"version":3,"sources":["scripts\\vendors\\jscolor.js"],"names":["window","jscolor","jsc","BoxShadow","helper","getSupportedProp","props","elm","attachDOMReadyEvent","init","attachEvent","document","onDocumentMouseDown","onDocumentTouchStart","onWindowResize","lookupClass","installByClassName","elms","className","matchClass","RegExp","i","length","m","undefined","type","toLowerCase","isColorAttrSupported","match","targetElm","optsStr","dataOptions","getDataAttr","opts","Function","eParseError","warn","createElement","setAttribute","getContext","mixed","getElementById","nodeName","el","name","attrName","attrValue","getAttribute","evnt","func","addEventListener","removeEventListener","detachEvent","groupName","_attachedGroupEvents","hasOwnProperty","push","evt","fired","fireOnce","readyState","arguments","callee","documentElement","doScroll","top","tryScroll","body","e","msg","console","preventDefault","returnValue","target","setCapture","_capturedTarget","releaseCapture","createEvent","ev","initEvent","dispatchEvent","createEventObject","fireEvent","replace","split","indexOf","classList","classNameToList","hasClass","repl","getComputedStyle","currentStyle","names","style","prop","value","alphaOpacity","Math","round","parseFloat","opacity","filter","setStyle","relativeToViewport","x","y","rect","getBoundingClientRect","left","viewPos","getViewPos","offsetWidth","offsetHeight","event","changedTouches","clientX","clientY","targetRect","srcElement","doc","pageXOffset","scrollLeft","clientLeft","pageYOffset","scrollTop","clientTop","innerWidth","clientWidth","innerHeight","clientHeight","picker","owner","thisObj","tp","vp","fixed","getElementPos","targetElement","ts","a","b","c","getElementSize","vs","getViewSize","ps","getPickerOuterDims","position","l","smartPosition","pp","positionValue","contractShadow","_drawPosition","vShadow","shadowBlur","wrap","setBoxShadow","boxS","shadow","shadowColor","displaySlider","getSliderComponent","dims","insetWidth","padding","width","getPadToSliderPadding","sliderSize","height","closable","buttonHeight","getPickerDims","borderWidth","max","pointerBorderWidth","pointerThickness","mode","charAt","_jscLinkedInstance","showOnClick","show","_jscControlName","onControlPointerStart","hide","redrawPosition","controlName","pointerType","_jscInstance","captureTarget","registerDragEvents","offset","attachGroupEvent","_pointerMoveEvent","onDocumentPointerMove","_pointerEndEvent","onDocumentPointerEnd","parent","frameElement","ofs","abs","getAbsPointerPos","rel","getRelPointerPos","_pointerOrigin","hsv","fromHSV","setPad","setSld","dispatchFineChange","detachGroupEvents","releaseTarget","dispatchChange","valueElement","isElementType","onFineChange","call","ofsX","ofsY","pointerAbs","xVal","yVal","getPadYComponent","leaveSld","leavePad","_vmlReady","namespaces","_vmlNS","add","styleSheets","_vmlCSS","tags","ss","createStyleSheet","owningElement","id","addRule","paletteObj","isCanvasSupported","canvas","ctx","drawFunc","clearRect","hGrad","createLinearGradient","addColorStop","fillStyle","fillRect","vGrad","draw","initVML","vmlContainer","overflow","method","angle","colors","hRect","stroked","appendChild","vRect","color","color2","sliderObj","color1","grad","hShadow","blur","spread","inset","prototype","toString","vals","join","options","opt","styleElement","required","refine","hash","uppercase","activeClass","overwriteImportant","minS","maxS","minV","maxV","rgb","crossSize","closeText","buttonColor","backgroundColor","borderColor","borderRadius","insetColor","pointerColor","pointerBorderColor","zIndex","container","HSV_RGB","h","s","v","u","floor","n","drawPicker","_processParentElementsInDOM","createPalette","createSliderGradient","pad","padPal","padB","cross","crossBY","crossBX","crossLY","crossLX","box","padM","sld","sldGrad","sldB","sldPtrOB","sldPtrMB","sldPtrIB","sldPtrS","sldM","btn","btnT","boxB","p","insetColors","outsetColor","THIS","crossOuterSize","padToSliderPadding","min","PI","clear","setBorderRadius","border","background","cursor","display","right","sliderPtrSpace","bottom","font","textAlign","eOldIE","onmousedown","lineHeight","innerHTML","createTextNode","redrawPad","redrawSld","unsetClass","parentNode","setClass","yComponent","rgb1","rgb2","sldComponent","isPickerOwner","removeChild","redraw","importColor","test","backgroundImage","_jscOrigStyle","exportColor","leaveValue","leaveStyle","fromString","flags","toUpperCase","bgColor","fgColor","isLight","isNaN","fromRGB","r","g","RGB_HSV","str","parseInt","substr","params","mR","mG","mB","re","toHEXString","toRGBString","_linkedElementsProcessed","currStyle","getStyle","_jscEventsAttached","onParentScroll","fetchElement","getElementsByTagName","onclick","origCallback","updateField","blurValue","inputElms","buttonElms","tryInstallOnElements","register"],"mappings":"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","file":"jscolor.c7eb6ba1.map","sourceRoot":"..\\src","sourcesContent":["/**\r\n * jscolor - JavaScript Color Picker\r\n *\r\n * @link    http://jscolor.com\r\n * @license For open source use: GPLv3\r\n *          For commercial use: JSColor Commercial License\r\n * @author  Jan Odvarko\r\n * @version 2.0.5\r\n *\r\n * See usage examples at http://jscolor.com/examples/\r\n */\r\n\r\n\r\n\"use strict\";\r\n\r\n\r\nif (!window.jscolor) { window.jscolor = (function () {\r\n\r\n\r\nvar jsc = {\r\n\r\n\r\n\tregister : function () {\r\n\t\tjsc.attachDOMReadyEvent(jsc.init);\r\n\t\tjsc.attachEvent(document, 'mousedown', jsc.onDocumentMouseDown);\r\n\t\tjsc.attachEvent(document, 'touchstart', jsc.onDocumentTouchStart);\r\n\t\tjsc.attachEvent(window, 'resize', jsc.onWindowResize);\r\n\t},\r\n\r\n\r\n\tinit : function () {\r\n\t\tif (jsc.jscolor.lookupClass) {\r\n\t\t\tjsc.jscolor.installByClassName(jsc.jscolor.lookupClass);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\ttryInstallOnElements : function (elms, className) {\r\n\t\tvar matchClass = new RegExp('(^|\\\\s)(' + className + ')(\\\\s*(\\\\{[^}]*\\\\})|\\\\s|$)', 'i');\r\n\r\n\t\tfor (var i = 0; i < elms.length; i += 1) {\r\n\t\t\tif (elms[i].type !== undefined && elms[i].type.toLowerCase() == 'color') {\r\n\t\t\t\tif (jsc.isColorAttrSupported) {\r\n\t\t\t\t\t// skip inputs of type 'color' if supported by the browser\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar m;\r\n\t\t\tif (!elms[i].jscolor && elms[i].className && (m = elms[i].className.match(matchClass))) {\r\n\t\t\t\tvar targetElm = elms[i];\r\n\t\t\t\tvar optsStr = null;\r\n\r\n\t\t\t\tvar dataOptions = jsc.getDataAttr(targetElm, 'jscolor');\r\n\t\t\t\tif (dataOptions !== null) {\r\n\t\t\t\t\toptsStr = dataOptions;\r\n\t\t\t\t} else if (m[4]) {\r\n\t\t\t\t\toptsStr = m[4];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar opts = {};\r\n\t\t\t\tif (optsStr) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\topts = (new Function ('return (' + optsStr + ')'))();\r\n\t\t\t\t\t} catch(eParseError) {\r\n\t\t\t\t\t\tjsc.warn('Error parsing jscolor options: ' + eParseError + ':\\n' + optsStr);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttargetElm.jscolor = new jsc.jscolor(targetElm, opts);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tisColorAttrSupported : (function () {\r\n\t\tvar elm = document.createElement('input');\r\n\t\tif (elm.setAttribute) {\r\n\t\t\telm.setAttribute('type', 'color');\r\n\t\t\tif (elm.type.toLowerCase() == 'color') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t})(),\r\n\r\n\r\n\tisCanvasSupported : (function () {\r\n\t\tvar elm = document.createElement('canvas');\r\n\t\treturn !!(elm.getContext && elm.getContext('2d'));\r\n\t})(),\r\n\r\n\r\n\tfetchElement : function (mixed) {\r\n\t\treturn typeof mixed === 'string' ? document.getElementById(mixed) : mixed;\r\n\t},\r\n\r\n\r\n\tisElementType : function (elm, type) {\r\n\t\treturn elm.nodeName.toLowerCase() === type.toLowerCase();\r\n\t},\r\n\r\n\r\n\tgetDataAttr : function (el, name) {\r\n\t\tvar attrName = 'data-' + name;\r\n\t\tvar attrValue = el.getAttribute(attrName);\r\n\t\tif (attrValue !== null) {\r\n\t\t\treturn attrValue;\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\r\n\r\n\tattachEvent : function (el, evnt, func) {\r\n\t\tif (el.addEventListener) {\r\n\t\t\tel.addEventListener(evnt, func, false);\r\n\t\t} else if (el.attachEvent) {\r\n\t\t\tel.attachEvent('on' + evnt, func);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tdetachEvent : function (el, evnt, func) {\r\n\t\tif (el.removeEventListener) {\r\n\t\t\tel.removeEventListener(evnt, func, false);\r\n\t\t} else if (el.detachEvent) {\r\n\t\t\tel.detachEvent('on' + evnt, func);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t_attachedGroupEvents : {},\r\n\r\n\r\n\tattachGroupEvent : function (groupName, el, evnt, func) {\r\n\t\tif (!jsc._attachedGroupEvents.hasOwnProperty(groupName)) {\r\n\t\t\tjsc._attachedGroupEvents[groupName] = [];\r\n\t\t}\r\n\t\tjsc._attachedGroupEvents[groupName].push([el, evnt, func]);\r\n\t\tjsc.attachEvent(el, evnt, func);\r\n\t},\r\n\r\n\r\n\tdetachGroupEvents : function (groupName) {\r\n\t\tif (jsc._attachedGroupEvents.hasOwnProperty(groupName)) {\r\n\t\t\tfor (var i = 0; i < jsc._attachedGroupEvents[groupName].length; i += 1) {\r\n\t\t\t\tvar evt = jsc._attachedGroupEvents[groupName][i];\r\n\t\t\t\tjsc.detachEvent(evt[0], evt[1], evt[2]);\r\n\t\t\t}\r\n\t\t\tdelete jsc._attachedGroupEvents[groupName];\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tattachDOMReadyEvent : function (func) {\r\n\t\tvar fired = false;\r\n\t\tvar fireOnce = function () {\r\n\t\t\tif (!fired) {\r\n\t\t\t\tfired = true;\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (document.readyState === 'complete') {\r\n\t\t\tsetTimeout(fireOnce, 1); // async\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (document.addEventListener) {\r\n\t\t\tdocument.addEventListener('DOMContentLoaded', fireOnce, false);\r\n\r\n\t\t\t// Fallback\r\n\t\t\twindow.addEventListener('load', fireOnce, false);\r\n\r\n\t\t} else if (document.attachEvent) {\r\n\t\t\t// IE\r\n\t\t\tdocument.attachEvent('onreadystatechange', function () {\r\n\t\t\t\tif (document.readyState === 'complete') {\r\n\t\t\t\t\tdocument.detachEvent('onreadystatechange', arguments.callee);\r\n\t\t\t\t\tfireOnce();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t// Fallback\r\n\t\t\twindow.attachEvent('onload', fireOnce);\r\n\r\n\t\t\t// IE7/8\r\n\t\t\tif (document.documentElement.doScroll && window == window.top) {\r\n\t\t\t\tvar tryScroll = function () {\r\n\t\t\t\t\tif (!document.body) { return; }\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tdocument.documentElement.doScroll('left');\r\n\t\t\t\t\t\tfireOnce();\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tsetTimeout(tryScroll, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\ttryScroll();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\twarn : function (msg) {\r\n\t\tif (window.console && window.console.warn) {\r\n\t\t\twindow.console.warn(msg);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tpreventDefault : function (e) {\r\n\t\tif (e.preventDefault) { e.preventDefault(); }\r\n\t\te.returnValue = false;\r\n\t},\r\n\r\n\r\n\tcaptureTarget : function (target) {\r\n\t\t// IE\r\n\t\tif (target.setCapture) {\r\n\t\t\tjsc._capturedTarget = target;\r\n\t\t\tjsc._capturedTarget.setCapture();\r\n\t\t}\r\n\t},\r\n\r\n\r\n\treleaseTarget : function () {\r\n\t\t// IE\r\n\t\tif (jsc._capturedTarget) {\r\n\t\t\tjsc._capturedTarget.releaseCapture();\r\n\t\t\tjsc._capturedTarget = null;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tfireEvent : function (el, evnt) {\r\n\t\tif (!el) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (document.createEvent) {\r\n\t\t\tvar ev = document.createEvent('HTMLEvents');\r\n\t\t\tev.initEvent(evnt, true, true);\r\n\t\t\tel.dispatchEvent(ev);\r\n\t\t} else if (document.createEventObject) {\r\n\t\t\tvar ev = document.createEventObject();\r\n\t\t\tel.fireEvent('on' + evnt, ev);\r\n\t\t} else if (el['on' + evnt]) { // alternatively use the traditional event model\r\n\t\t\tel['on' + evnt]();\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tclassNameToList : function (className) {\r\n\t\treturn className.replace(/^\\s+|\\s+$/g, '').split(/\\s+/);\r\n\t},\r\n\r\n\r\n\t// The className parameter (str) can only contain a single class name\r\n\thasClass : function (elm, className) {\r\n\t\tif (!className) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn -1 != (' ' + elm.className.replace(/\\s+/g, ' ') + ' ').indexOf(' ' + className + ' ');\r\n\t},\r\n\r\n\r\n\t// The className parameter (str) can contain multiple class names separated by whitespace\r\n\tsetClass : function (elm, className) {\r\n\t\tvar classList = jsc.classNameToList(className);\r\n\t\tfor (var i = 0; i < classList.length; i += 1) {\r\n\t\t\tif (!jsc.hasClass(elm, classList[i])) {\r\n\t\t\t\telm.className += (elm.className ? ' ' : '') + classList[i];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t// The className parameter (str) can contain multiple class names separated by whitespace\r\n\tunsetClass : function (elm, className) {\r\n\t\tvar classList = jsc.classNameToList(className);\r\n\t\tfor (var i = 0; i < classList.length; i += 1) {\r\n\t\t\tvar repl = new RegExp(\r\n\t\t\t\t'^\\\\s*' + classList[i] + '\\\\s*|' +\r\n\t\t\t\t'\\\\s*' + classList[i] + '\\\\s*$|' +\r\n\t\t\t\t'\\\\s+' + classList[i] + '(\\\\s+)',\r\n\t\t\t\t'g'\r\n\t\t\t);\r\n\t\t\telm.className = elm.className.replace(repl, '$1');\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tgetStyle : function (elm) {\r\n\t\treturn window.getComputedStyle ? window.getComputedStyle(elm) : elm.currentStyle;\r\n\t},\r\n\r\n\r\n\tsetStyle : (function () {\r\n\t\tvar helper = document.createElement('div');\r\n\t\tvar getSupportedProp = function (names) {\r\n\t\t\tfor (var i = 0; i < names.length; i += 1) {\r\n\t\t\t\tif (names[i] in helper.style) {\r\n\t\t\t\t\treturn names[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar props = {\r\n\t\t\tborderRadius: getSupportedProp(['borderRadius', 'MozBorderRadius', 'webkitBorderRadius']),\r\n\t\t\tboxShadow: getSupportedProp(['boxShadow', 'MozBoxShadow', 'webkitBoxShadow'])\r\n\t\t};\r\n\t\treturn function (elm, prop, value) {\r\n\t\t\tswitch (prop.toLowerCase()) {\r\n\t\t\tcase 'opacity':\r\n\t\t\t\tvar alphaOpacity = Math.round(parseFloat(value) * 100);\r\n\t\t\t\telm.style.opacity = value;\r\n\t\t\t\telm.style.filter = 'alpha(opacity=' + alphaOpacity + ')';\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\telm.style[props[prop]] = value;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t};\r\n\t})(),\r\n\r\n\r\n\tsetBorderRadius : function (elm, value) {\r\n\t\tjsc.setStyle(elm, 'borderRadius', value || '0');\r\n\t},\r\n\r\n\r\n\tsetBoxShadow : function (elm, value) {\r\n\t\tjsc.setStyle(elm, 'boxShadow', value || 'none');\r\n\t},\r\n\r\n\r\n\tgetElementPos : function (e, relativeToViewport) {\r\n\t\tvar x=0, y=0;\r\n\t\tvar rect = e.getBoundingClientRect();\r\n\t\tx = rect.left;\r\n\t\ty = rect.top;\r\n\t\tif (!relativeToViewport) {\r\n\t\t\tvar viewPos = jsc.getViewPos();\r\n\t\t\tx += viewPos[0];\r\n\t\t\ty += viewPos[1];\r\n\t\t}\r\n\t\treturn [x, y];\r\n\t},\r\n\r\n\r\n\tgetElementSize : function (e) {\r\n\t\treturn [e.offsetWidth, e.offsetHeight];\r\n\t},\r\n\r\n\r\n\t// get pointer's X/Y coordinates relative to viewport\r\n\tgetAbsPointerPos : function (e) {\r\n\t\tif (!e) { e = window.event; }\r\n\t\tvar x = 0, y = 0;\r\n\t\tif (typeof e.changedTouches !== 'undefined' && e.changedTouches.length) {\r\n\t\t\t// touch devices\r\n\t\t\tx = e.changedTouches[0].clientX;\r\n\t\t\ty = e.changedTouches[0].clientY;\r\n\t\t} else if (typeof e.clientX === 'number') {\r\n\t\t\tx = e.clientX;\r\n\t\t\ty = e.clientY;\r\n\t\t}\r\n\t\treturn { x: x, y: y };\r\n\t},\r\n\r\n\r\n\t// get pointer's X/Y coordinates relative to target element\r\n\tgetRelPointerPos : function (e) {\r\n\t\tif (!e) { e = window.event; }\r\n\t\tvar target = e.target || e.srcElement;\r\n\t\tvar targetRect = target.getBoundingClientRect();\r\n\r\n\t\tvar x = 0, y = 0;\r\n\r\n\t\tvar clientX = 0, clientY = 0;\r\n\t\tif (typeof e.changedTouches !== 'undefined' && e.changedTouches.length) {\r\n\t\t\t// touch devices\r\n\t\t\tclientX = e.changedTouches[0].clientX;\r\n\t\t\tclientY = e.changedTouches[0].clientY;\r\n\t\t} else if (typeof e.clientX === 'number') {\r\n\t\t\tclientX = e.clientX;\r\n\t\t\tclientY = e.clientY;\r\n\t\t}\r\n\r\n\t\tx = clientX - targetRect.left;\r\n\t\ty = clientY - targetRect.top;\r\n\t\treturn { x: x, y: y };\r\n\t},\r\n\r\n\r\n\tgetViewPos : function () {\r\n\t\tvar doc = document.documentElement;\r\n\t\treturn [\r\n\t\t\t(window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0),\r\n\t\t\t(window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\r\n\t\t];\r\n\t},\r\n\r\n\r\n\tgetViewSize : function () {\r\n\t\tvar doc = document.documentElement;\r\n\t\treturn [\r\n\t\t\t(window.innerWidth || doc.clientWidth),\r\n\t\t\t(window.innerHeight || doc.clientHeight),\r\n\t\t];\r\n\t},\r\n\r\n\r\n\tredrawPosition : function () {\r\n\r\n\t\tif (jsc.picker && jsc.picker.owner) {\r\n\t\t\tvar thisObj = jsc.picker.owner;\r\n\r\n\t\t\tvar tp, vp;\r\n\r\n\t\t\tif (thisObj.fixed) {\r\n\t\t\t\t// Fixed elements are positioned relative to viewport,\r\n\t\t\t\t// therefore we can ignore the scroll offset\r\n\t\t\t\ttp = jsc.getElementPos(thisObj.targetElement, true); // target pos\r\n\t\t\t\tvp = [0, 0]; // view pos\r\n\t\t\t} else {\r\n\t\t\t\ttp = jsc.getElementPos(thisObj.targetElement); // target pos\r\n\t\t\t\tvp = jsc.getViewPos(); // view pos\r\n\t\t\t}\r\n\r\n\t\t\tvar ts = jsc.getElementSize(thisObj.targetElement); // target size\r\n\t\t\tvar vs = jsc.getViewSize(); // view size\r\n\t\t\tvar ps = jsc.getPickerOuterDims(thisObj); // picker size\r\n\t\t\tvar a, b, c;\r\n\t\t\tswitch (thisObj.position.toLowerCase()) {\r\n\t\t\t\tcase 'left': a=1; b=0; c=-1; break;\r\n\t\t\t\tcase 'right':a=1; b=0; c=1; break;\r\n\t\t\t\tcase 'top':  a=0; b=1; c=-1; break;\r\n\t\t\t\tdefault:     a=0; b=1; c=1; break;\r\n\t\t\t}\r\n\t\t\tvar l = (ts[b]+ps[b])/2;\r\n\r\n\t\t\t// compute picker position\r\n\t\t\tif (!thisObj.smartPosition) {\r\n\t\t\t\tvar pp = [\r\n\t\t\t\t\ttp[a],\r\n\t\t\t\t\ttp[b]+ts[b]-l+l*c\r\n\t\t\t\t];\r\n\t\t\t} else {\r\n\t\t\t\tvar pp = [\r\n\t\t\t\t\t-vp[a]+tp[a]+ps[a] > vs[a] ?\r\n\t\t\t\t\t\t(-vp[a]+tp[a]+ts[a]/2 > vs[a]/2 && tp[a]+ts[a]-ps[a] >= 0 ? tp[a]+ts[a]-ps[a] : tp[a]) :\r\n\t\t\t\t\t\ttp[a],\r\n\t\t\t\t\t-vp[b]+tp[b]+ts[b]+ps[b]-l+l*c > vs[b] ?\r\n\t\t\t\t\t\t(-vp[b]+tp[b]+ts[b]/2 > vs[b]/2 && tp[b]+ts[b]-l-l*c >= 0 ? tp[b]+ts[b]-l-l*c : tp[b]+ts[b]-l+l*c) :\r\n\t\t\t\t\t\t(tp[b]+ts[b]-l+l*c >= 0 ? tp[b]+ts[b]-l+l*c : tp[b]+ts[b]-l-l*c)\r\n\t\t\t\t];\r\n\t\t\t}\r\n\r\n\t\t\tvar x = pp[a];\r\n\t\t\tvar y = pp[b];\r\n\t\t\tvar positionValue = thisObj.fixed ? 'fixed' : 'absolute';\r\n\t\t\tvar contractShadow =\r\n\t\t\t\t(pp[0] + ps[0] > tp[0] || pp[0] < tp[0] + ts[0]) &&\r\n\t\t\t\t(pp[1] + ps[1] < tp[1] + ts[1]);\r\n\r\n\t\t\tjsc._drawPosition(thisObj, x, y, positionValue, contractShadow);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t_drawPosition : function (thisObj, x, y, positionValue, contractShadow) {\r\n\t\tvar vShadow = contractShadow ? 0 : thisObj.shadowBlur; // px\r\n\r\n\t\tjsc.picker.wrap.style.position = positionValue;\r\n\t\tjsc.picker.wrap.style.left = x + 'px';\r\n\t\tjsc.picker.wrap.style.top = y + 'px';\r\n\r\n\t\tjsc.setBoxShadow(\r\n\t\t\tjsc.picker.boxS,\r\n\t\t\tthisObj.shadow ?\r\n\t\t\t\tnew jsc.BoxShadow(0, vShadow, thisObj.shadowBlur, 0, thisObj.shadowColor) :\r\n\t\t\t\tnull);\r\n\t},\r\n\r\n\r\n\tgetPickerDims : function (thisObj) {\r\n\t\tvar displaySlider = !!jsc.getSliderComponent(thisObj);\r\n\t\tvar dims = [\r\n\t\t\t2 * thisObj.insetWidth + 2 * thisObj.padding + thisObj.width +\r\n\t\t\t\t(displaySlider ? 2 * thisObj.insetWidth + jsc.getPadToSliderPadding(thisObj) + thisObj.sliderSize : 0),\r\n\t\t\t2 * thisObj.insetWidth + 2 * thisObj.padding + thisObj.height +\r\n\t\t\t\t(thisObj.closable ? 2 * thisObj.insetWidth + thisObj.padding + thisObj.buttonHeight : 0)\r\n\t\t];\r\n\t\treturn dims;\r\n\t},\r\n\r\n\r\n\tgetPickerOuterDims : function (thisObj) {\r\n\t\tvar dims = jsc.getPickerDims(thisObj);\r\n\t\treturn [\r\n\t\t\tdims[0] + 2 * thisObj.borderWidth,\r\n\t\t\tdims[1] + 2 * thisObj.borderWidth\r\n\t\t];\r\n\t},\r\n\r\n\r\n\tgetPadToSliderPadding : function (thisObj) {\r\n\t\treturn Math.max(thisObj.padding, 1.5 * (2 * thisObj.pointerBorderWidth + thisObj.pointerThickness));\r\n\t},\r\n\r\n\r\n\tgetPadYComponent : function (thisObj) {\r\n\t\tswitch (thisObj.mode.charAt(1).toLowerCase()) {\r\n\t\t\tcase 'v': return 'v'; break;\r\n\t\t}\r\n\t\treturn 's';\r\n\t},\r\n\r\n\r\n\tgetSliderComponent : function (thisObj) {\r\n\t\tif (thisObj.mode.length > 2) {\r\n\t\t\tswitch (thisObj.mode.charAt(2).toLowerCase()) {\r\n\t\t\t\tcase 's': return 's'; break;\r\n\t\t\t\tcase 'v': return 'v'; break;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\r\n\r\n\tonDocumentMouseDown : function (e) {\r\n\t\tif (!e) { e = window.event; }\r\n\t\tvar target = e.target || e.srcElement;\r\n\r\n\t\tif (target._jscLinkedInstance) {\r\n\t\t\tif (target._jscLinkedInstance.showOnClick) {\r\n\t\t\t\ttarget._jscLinkedInstance.show();\r\n\t\t\t}\r\n\t\t} else if (target._jscControlName) {\r\n\t\t\tjsc.onControlPointerStart(e, target, target._jscControlName, 'mouse');\r\n\t\t} else {\r\n\t\t\t// Mouse is outside the picker controls -> hide the color picker!\r\n\t\t\tif (jsc.picker && jsc.picker.owner) {\r\n\t\t\t\tjsc.picker.owner.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tonDocumentTouchStart : function (e) {\r\n\t\tif (!e) { e = window.event; }\r\n\t\tvar target = e.target || e.srcElement;\r\n\r\n\t\tif (target._jscLinkedInstance) {\r\n\t\t\tif (target._jscLinkedInstance.showOnClick) {\r\n\t\t\t\ttarget._jscLinkedInstance.show();\r\n\t\t\t}\r\n\t\t} else if (target._jscControlName) {\r\n\t\t\tjsc.onControlPointerStart(e, target, target._jscControlName, 'touch');\r\n\t\t} else {\r\n\t\t\tif (jsc.picker && jsc.picker.owner) {\r\n\t\t\t\tjsc.picker.owner.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tonWindowResize : function (e) {\r\n\t\tjsc.redrawPosition();\r\n\t},\r\n\r\n\r\n\tonParentScroll : function (e) {\r\n\t\t// hide the picker when one of the parent elements is scrolled\r\n\t\tif (jsc.picker && jsc.picker.owner) {\r\n\t\t\tjsc.picker.owner.hide();\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t_pointerMoveEvent : {\r\n\t\tmouse: 'mousemove',\r\n\t\ttouch: 'touchmove'\r\n\t},\r\n\t_pointerEndEvent : {\r\n\t\tmouse: 'mouseup',\r\n\t\ttouch: 'touchend'\r\n\t},\r\n\r\n\r\n\t_pointerOrigin : null,\r\n\t_capturedTarget : null,\r\n\r\n\r\n\tonControlPointerStart : function (e, target, controlName, pointerType) {\r\n\t\tvar thisObj = target._jscInstance;\r\n\r\n\t\tjsc.preventDefault(e);\r\n\t\tjsc.captureTarget(target);\r\n\r\n\t\tvar registerDragEvents = function (doc, offset) {\r\n\t\t\tjsc.attachGroupEvent('drag', doc, jsc._pointerMoveEvent[pointerType],\r\n\t\t\t\tjsc.onDocumentPointerMove(e, target, controlName, pointerType, offset));\r\n\t\t\tjsc.attachGroupEvent('drag', doc, jsc._pointerEndEvent[pointerType],\r\n\t\t\t\tjsc.onDocumentPointerEnd(e, target, controlName, pointerType));\r\n\t\t};\r\n\r\n\t\tregisterDragEvents(document, [0, 0]);\r\n\r\n\t\tif (window.parent && window.frameElement) {\r\n\t\t\tvar rect = window.frameElement.getBoundingClientRect();\r\n\t\t\tvar ofs = [-rect.left, -rect.top];\r\n\t\t\tregisterDragEvents(window.parent.window.document, ofs);\r\n\t\t}\r\n\r\n\t\tvar abs = jsc.getAbsPointerPos(e);\r\n\t\tvar rel = jsc.getRelPointerPos(e);\r\n\t\tjsc._pointerOrigin = {\r\n\t\t\tx: abs.x - rel.x,\r\n\t\t\ty: abs.y - rel.y\r\n\t\t};\r\n\r\n\t\tswitch (controlName) {\r\n\t\tcase 'pad':\r\n\t\t\t// if the slider is at the bottom, move it up\r\n\t\t\tswitch (jsc.getSliderComponent(thisObj)) {\r\n\t\t\tcase 's': if (thisObj.hsv[1] === 0) { thisObj.fromHSV(null, 100, null); }; break;\r\n\t\t\tcase 'v': if (thisObj.hsv[2] === 0) { thisObj.fromHSV(null, null, 100); }; break;\r\n\t\t\t}\r\n\t\t\tjsc.setPad(thisObj, e, 0, 0);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'sld':\r\n\t\t\tjsc.setSld(thisObj, e, 0);\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tjsc.dispatchFineChange(thisObj);\r\n\t},\r\n\r\n\r\n\tonDocumentPointerMove : function (e, target, controlName, pointerType, offset) {\r\n\t\treturn function (e) {\r\n\t\t\tvar thisObj = target._jscInstance;\r\n\t\t\tswitch (controlName) {\r\n\t\t\tcase 'pad':\r\n\t\t\t\tif (!e) { e = window.event; }\r\n\t\t\t\tjsc.setPad(thisObj, e, offset[0], offset[1]);\r\n\t\t\t\tjsc.dispatchFineChange(thisObj);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'sld':\r\n\t\t\t\tif (!e) { e = window.event; }\r\n\t\t\t\tjsc.setSld(thisObj, e, offset[1]);\r\n\t\t\t\tjsc.dispatchFineChange(thisObj);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tonDocumentPointerEnd : function (e, target, controlName, pointerType) {\r\n\t\treturn function (e) {\r\n\t\t\tvar thisObj = target._jscInstance;\r\n\t\t\tjsc.detachGroupEvents('drag');\r\n\t\t\tjsc.releaseTarget();\r\n\t\t\t// Always dispatch changes after detaching outstanding mouse handlers,\r\n\t\t\t// in case some user interaction will occur in user's onchange callback\r\n\t\t\t// that would intrude with current mouse events\r\n\t\t\tjsc.dispatchChange(thisObj);\r\n\t\t};\r\n\t},\r\n\r\n\r\n\tdispatchChange : function (thisObj) {\r\n\t\tif (thisObj.valueElement) {\r\n\t\t\tif (jsc.isElementType(thisObj.valueElement, 'input')) {\r\n\t\t\t\tjsc.fireEvent(thisObj.valueElement, 'change');\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tdispatchFineChange : function (thisObj) {\r\n\t\tif (thisObj.onFineChange) {\r\n\t\t\tvar callback;\r\n\t\t\tif (typeof thisObj.onFineChange === 'string') {\r\n\t\t\t\tcallback = new Function (thisObj.onFineChange);\r\n\t\t\t} else {\r\n\t\t\t\tcallback = thisObj.onFineChange;\r\n\t\t\t}\r\n\t\t\tcallback.call(thisObj);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tsetPad : function (thisObj, e, ofsX, ofsY) {\r\n\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\r\n\t\tvar x = ofsX + pointerAbs.x - jsc._pointerOrigin.x - thisObj.padding - thisObj.insetWidth;\r\n\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.insetWidth;\r\n\r\n\t\tvar xVal = x * (360 / (thisObj.width - 1));\r\n\t\tvar yVal = 100 - (y * (100 / (thisObj.height - 1)));\r\n\r\n\t\tswitch (jsc.getPadYComponent(thisObj)) {\r\n\t\tcase 's': thisObj.fromHSV(xVal, yVal, null, jsc.leaveSld); break;\r\n\t\tcase 'v': thisObj.fromHSV(xVal, null, yVal, jsc.leaveSld); break;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tsetSld : function (thisObj, e, ofsY) {\r\n\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\r\n\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.insetWidth;\r\n\r\n\t\tvar yVal = 100 - (y * (100 / (thisObj.height - 1)));\r\n\r\n\t\tswitch (jsc.getSliderComponent(thisObj)) {\r\n\t\tcase 's': thisObj.fromHSV(null, yVal, null, jsc.leavePad); break;\r\n\t\tcase 'v': thisObj.fromHSV(null, null, yVal, jsc.leavePad); break;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t_vmlNS : 'jsc_vml_',\r\n\t_vmlCSS : 'jsc_vml_css_',\r\n\t_vmlReady : false,\r\n\r\n\r\n\tinitVML : function () {\r\n\t\tif (!jsc._vmlReady) {\r\n\t\t\t// init VML namespace\r\n\t\t\tvar doc = document;\r\n\t\t\tif (!doc.namespaces[jsc._vmlNS]) {\r\n\t\t\t\tdoc.namespaces.add(jsc._vmlNS, 'urn:schemas-microsoft-com:vml');\r\n\t\t\t}\r\n\t\t\tif (!doc.styleSheets[jsc._vmlCSS]) {\r\n\t\t\t\tvar tags = ['shape', 'shapetype', 'group', 'background', 'path', 'formulas', 'handles', 'fill', 'stroke', 'shadow', 'textbox', 'textpath', 'imagedata', 'line', 'polyline', 'curve', 'rect', 'roundrect', 'oval', 'arc', 'image'];\r\n\t\t\t\tvar ss = doc.createStyleSheet();\r\n\t\t\t\tss.owningElement.id = jsc._vmlCSS;\r\n\t\t\t\tfor (var i = 0; i < tags.length; i += 1) {\r\n\t\t\t\t\tss.addRule(jsc._vmlNS + '\\\\:' + tags[i], 'behavior:url(#default#VML);');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tjsc._vmlReady = true;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tcreatePalette : function () {\r\n\r\n\t\tvar paletteObj = {\r\n\t\t\telm: null,\r\n\t\t\tdraw: null\r\n\t\t};\r\n\r\n\t\tif (jsc.isCanvasSupported) {\r\n\t\t\t// Canvas implementation for modern browsers\r\n\r\n\t\t\tvar canvas = document.createElement('canvas');\r\n\t\t\tvar ctx = canvas.getContext('2d');\r\n\r\n\t\t\tvar drawFunc = function (width, height, type) {\r\n\t\t\t\tcanvas.width = width;\r\n\t\t\t\tcanvas.height = height;\r\n\r\n\t\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\t\tvar hGrad = ctx.createLinearGradient(0, 0, canvas.width, 0);\r\n\t\t\t\thGrad.addColorStop(0 / 6, '#F00');\r\n\t\t\t\thGrad.addColorStop(1 / 6, '#FF0');\r\n\t\t\t\thGrad.addColorStop(2 / 6, '#0F0');\r\n\t\t\t\thGrad.addColorStop(3 / 6, '#0FF');\r\n\t\t\t\thGrad.addColorStop(4 / 6, '#00F');\r\n\t\t\t\thGrad.addColorStop(5 / 6, '#F0F');\r\n\t\t\t\thGrad.addColorStop(6 / 6, '#F00');\r\n\r\n\t\t\t\tctx.fillStyle = hGrad;\r\n\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\t\tvar vGrad = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n\t\t\t\tswitch (type.toLowerCase()) {\r\n\t\t\t\tcase 's':\r\n\t\t\t\t\tvGrad.addColorStop(0, 'rgba(255,255,255,0)');\r\n\t\t\t\t\tvGrad.addColorStop(1, 'rgba(255,255,255,1)');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'v':\r\n\t\t\t\t\tvGrad.addColorStop(0, 'rgba(0,0,0,0)');\r\n\t\t\t\t\tvGrad.addColorStop(1, 'rgba(0,0,0,1)');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tctx.fillStyle = vGrad;\r\n\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\t\t};\r\n\r\n\t\t\tpaletteObj.elm = canvas;\r\n\t\t\tpaletteObj.draw = drawFunc;\r\n\r\n\t\t} else {\r\n\t\t\t// VML fallback for IE 7 and 8\r\n\r\n\t\t\tjsc.initVML();\r\n\r\n\t\t\tvar vmlContainer = document.createElement('div');\r\n\t\t\tvmlContainer.style.position = 'relative';\r\n\t\t\tvmlContainer.style.overflow = 'hidden';\r\n\r\n\t\t\tvar hGrad = document.createElement(jsc._vmlNS + ':fill');\r\n\t\t\thGrad.type = 'gradient';\r\n\t\t\thGrad.method = 'linear';\r\n\t\t\thGrad.angle = '90';\r\n\t\t\thGrad.colors = '16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0'\r\n\r\n\t\t\tvar hRect = document.createElement(jsc._vmlNS + ':rect');\r\n\t\t\thRect.style.position = 'absolute';\r\n\t\t\thRect.style.left = -1 + 'px';\r\n\t\t\thRect.style.top = -1 + 'px';\r\n\t\t\thRect.stroked = false;\r\n\t\t\thRect.appendChild(hGrad);\r\n\t\t\tvmlContainer.appendChild(hRect);\r\n\r\n\t\t\tvar vGrad = document.createElement(jsc._vmlNS + ':fill');\r\n\t\t\tvGrad.type = 'gradient';\r\n\t\t\tvGrad.method = 'linear';\r\n\t\t\tvGrad.angle = '180';\r\n\t\t\tvGrad.opacity = '0';\r\n\r\n\t\t\tvar vRect = document.createElement(jsc._vmlNS + ':rect');\r\n\t\t\tvRect.style.position = 'absolute';\r\n\t\t\tvRect.style.left = -1 + 'px';\r\n\t\t\tvRect.style.top = -1 + 'px';\r\n\t\t\tvRect.stroked = false;\r\n\t\t\tvRect.appendChild(vGrad);\r\n\t\t\tvmlContainer.appendChild(vRect);\r\n\r\n\t\t\tvar drawFunc = function (width, height, type) {\r\n\t\t\t\tvmlContainer.style.width = width + 'px';\r\n\t\t\t\tvmlContainer.style.height = height + 'px';\r\n\r\n\t\t\t\thRect.style.width =\r\n\t\t\t\tvRect.style.width =\r\n\t\t\t\t\t(width + 1) + 'px';\r\n\t\t\t\thRect.style.height =\r\n\t\t\t\tvRect.style.height =\r\n\t\t\t\t\t(height + 1) + 'px';\r\n\r\n\t\t\t\t// Colors must be specified during every redraw, otherwise IE won't display\r\n\t\t\t\t// a full gradient during a subsequential redraw\r\n\t\t\t\thGrad.color = '#F00';\r\n\t\t\t\thGrad.color2 = '#F00';\r\n\r\n\t\t\t\tswitch (type.toLowerCase()) {\r\n\t\t\t\tcase 's':\r\n\t\t\t\t\tvGrad.color = vGrad.color2 = '#FFF';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'v':\r\n\t\t\t\t\tvGrad.color = vGrad.color2 = '#000';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tpaletteObj.elm = vmlContainer;\r\n\t\t\tpaletteObj.draw = drawFunc;\r\n\t\t}\r\n\r\n\t\treturn paletteObj;\r\n\t},\r\n\r\n\r\n\tcreateSliderGradient : function () {\r\n\r\n\t\tvar sliderObj = {\r\n\t\t\telm: null,\r\n\t\t\tdraw: null\r\n\t\t};\r\n\r\n\t\tif (jsc.isCanvasSupported) {\r\n\t\t\t// Canvas implementation for modern browsers\r\n\r\n\t\t\tvar canvas = document.createElement('canvas');\r\n\t\t\tvar ctx = canvas.getContext('2d');\r\n\r\n\t\t\tvar drawFunc = function (width, height, color1, color2) {\r\n\t\t\t\tcanvas.width = width;\r\n\t\t\t\tcanvas.height = height;\r\n\r\n\t\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\t\tvar grad = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n\t\t\t\tgrad.addColorStop(0, color1);\r\n\t\t\t\tgrad.addColorStop(1, color2);\r\n\r\n\t\t\t\tctx.fillStyle = grad;\r\n\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\t\t};\r\n\r\n\t\t\tsliderObj.elm = canvas;\r\n\t\t\tsliderObj.draw = drawFunc;\r\n\r\n\t\t} else {\r\n\t\t\t// VML fallback for IE 7 and 8\r\n\r\n\t\t\tjsc.initVML();\r\n\r\n\t\t\tvar vmlContainer = document.createElement('div');\r\n\t\t\tvmlContainer.style.position = 'relative';\r\n\t\t\tvmlContainer.style.overflow = 'hidden';\r\n\r\n\t\t\tvar grad = document.createElement(jsc._vmlNS + ':fill');\r\n\t\t\tgrad.type = 'gradient';\r\n\t\t\tgrad.method = 'linear';\r\n\t\t\tgrad.angle = '180';\r\n\r\n\t\t\tvar rect = document.createElement(jsc._vmlNS + ':rect');\r\n\t\t\trect.style.position = 'absolute';\r\n\t\t\trect.style.left = -1 + 'px';\r\n\t\t\trect.style.top = -1 + 'px';\r\n\t\t\trect.stroked = false;\r\n\t\t\trect.appendChild(grad);\r\n\t\t\tvmlContainer.appendChild(rect);\r\n\r\n\t\t\tvar drawFunc = function (width, height, color1, color2) {\r\n\t\t\t\tvmlContainer.style.width = width + 'px';\r\n\t\t\t\tvmlContainer.style.height = height + 'px';\r\n\r\n\t\t\t\trect.style.width = (width + 1) + 'px';\r\n\t\t\t\trect.style.height = (height + 1) + 'px';\r\n\r\n\t\t\t\tgrad.color = color1;\r\n\t\t\t\tgrad.color2 = color2;\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tsliderObj.elm = vmlContainer;\r\n\t\t\tsliderObj.draw = drawFunc;\r\n\t\t}\r\n\r\n\t\treturn sliderObj;\r\n\t},\r\n\r\n\r\n\tleaveValue : 1<<0,\r\n\tleaveStyle : 1<<1,\r\n\tleavePad : 1<<2,\r\n\tleaveSld : 1<<3,\r\n\r\n\r\n\tBoxShadow : (function () {\r\n\t\tvar BoxShadow = function (hShadow, vShadow, blur, spread, color, inset) {\r\n\t\t\tthis.hShadow = hShadow;\r\n\t\t\tthis.vShadow = vShadow;\r\n\t\t\tthis.blur = blur;\r\n\t\t\tthis.spread = spread;\r\n\t\t\tthis.color = color;\r\n\t\t\tthis.inset = !!inset;\r\n\t\t};\r\n\r\n\t\tBoxShadow.prototype.toString = function () {\r\n\t\t\tvar vals = [\r\n\t\t\t\tMath.round(this.hShadow) + 'px',\r\n\t\t\t\tMath.round(this.vShadow) + 'px',\r\n\t\t\t\tMath.round(this.blur) + 'px',\r\n\t\t\t\tMath.round(this.spread) + 'px',\r\n\t\t\t\tthis.color\r\n\t\t\t];\r\n\t\t\tif (this.inset) {\r\n\t\t\t\tvals.push('inset');\r\n\t\t\t}\r\n\t\t\treturn vals.join(' ');\r\n\t\t};\r\n\r\n\t\treturn BoxShadow;\r\n\t})(),\r\n\r\n\r\n\t//\r\n\t// Usage:\r\n\t// var myColor = new jscolor(<targetElement> [, <options>])\r\n\t//\r\n\r\n\tjscolor : function (targetElement, options) {\r\n\r\n\t\t// General options\r\n\t\t//\r\n\t\tthis.value = null; // initial HEX color. To change it later, use methods fromString(), fromHSV() and fromRGB()\r\n\t\tthis.valueElement = targetElement; // element that will be used to display and input the color code\r\n\t\tthis.styleElement = targetElement; // element that will preview the picked color using CSS backgroundColor\r\n\t\tthis.required = true; // whether the associated text <input> can be left empty\r\n\t\tthis.refine = true; // whether to refine the entered color code (e.g. uppercase it and remove whitespace)\r\n\t\tthis.hash = false; // whether to prefix the HEX color code with # symbol\r\n\t\tthis.uppercase = true; // whether to show the color code in upper case\r\n\t\tthis.onFineChange = null; // called instantly every time the color changes (value can be either a function or a string with javascript code)\r\n\t\tthis.activeClass = 'jscolor-active'; // class to be set to the target element when a picker window is open on it\r\n\t\tthis.overwriteImportant = false; // whether to overwrite colors of styleElement using !important\r\n\t\tthis.minS = 0; // min allowed saturation (0 - 100)\r\n\t\tthis.maxS = 100; // max allowed saturation (0 - 100)\r\n\t\tthis.minV = 0; // min allowed value (brightness) (0 - 100)\r\n\t\tthis.maxV = 100; // max allowed value (brightness) (0 - 100)\r\n\r\n\t\t// Accessing the picked color\r\n\t\t//\r\n\t\tthis.hsv = [0, 0, 100]; // read-only  [0-360, 0-100, 0-100]\r\n\t\tthis.rgb = [255, 255, 255]; // read-only  [0-255, 0-255, 0-255]\r\n\r\n\t\t// Color Picker options\r\n\t\t//\r\n\t\tthis.width = 181; // width of color palette (in px)\r\n\t\tthis.height = 101; // height of color palette (in px)\r\n\t\tthis.showOnClick = true; // whether to display the color picker when user clicks on its target element\r\n\t\tthis.mode = 'HSV'; // HSV | HVS | HS | HV - layout of the color picker controls\r\n\t\tthis.position = 'bottom'; // left | right | top | bottom - position relative to the target element\r\n\t\tthis.smartPosition = true; // automatically change picker position when there is not enough space for it\r\n\t\tthis.sliderSize = 16; // px\r\n\t\tthis.crossSize = 8; // px\r\n\t\tthis.closable = false; // whether to display the Close button\r\n\t\tthis.closeText = 'Close';\r\n\t\tthis.buttonColor = '#000000'; // CSS color\r\n\t\tthis.buttonHeight = 18; // px\r\n\t\tthis.padding = 12; // px\r\n\t\tthis.backgroundColor = '#FFFFFF'; // CSS color\r\n\t\tthis.borderWidth = 1; // px\r\n\t\tthis.borderColor = '#BBBBBB'; // CSS color\r\n\t\tthis.borderRadius = 8; // px\r\n\t\tthis.insetWidth = 1; // px\r\n\t\tthis.insetColor = '#BBBBBB'; // CSS color\r\n\t\tthis.shadow = true; // whether to display shadow\r\n\t\tthis.shadowBlur = 15; // px\r\n\t\tthis.shadowColor = 'rgba(0,0,0,0.2)'; // CSS color\r\n\t\tthis.pointerColor = '#4C4C4C'; // px\r\n\t\tthis.pointerBorderColor = '#FFFFFF'; // px\r\n        this.pointerBorderWidth = 1; // px\r\n        this.pointerThickness = 2; // px\r\n\t\tthis.zIndex = 1000;\r\n\t\tthis.container = null; // where to append the color picker (BODY element by default)\r\n\r\n\r\n\t\tfor (var opt in options) {\r\n\t\t\tif (options.hasOwnProperty(opt)) {\r\n\t\t\t\tthis[opt] = options[opt];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tthis.hide = function () {\r\n\t\t\tif (isPickerOwner()) {\r\n\t\t\t\tdetachPicker();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.show = function () {\r\n\t\t\tdrawPicker();\r\n\t\t};\r\n\r\n\r\n\t\tthis.redraw = function () {\r\n\t\t\tif (isPickerOwner()) {\r\n\t\t\t\tdrawPicker();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.importColor = function () {\r\n\t\t\tif (!this.valueElement) {\r\n\t\t\t\tthis.exportColor();\r\n\t\t\t} else {\r\n\t\t\t\tif (jsc.isElementType(this.valueElement, 'input')) {\r\n\t\t\t\t\tif (!this.refine) {\r\n\t\t\t\t\t\tif (!this.fromString(this.valueElement.value, jsc.leaveValue)) {\r\n\t\t\t\t\t\t\tif (this.styleElement) {\r\n\t\t\t\t\t\t\t\tthis.styleElement.style.backgroundImage = this.styleElement._jscOrigStyle.backgroundImage;\r\n\t\t\t\t\t\t\t\tthis.styleElement.style.backgroundColor = this.styleElement._jscOrigStyle.backgroundColor;\r\n\t\t\t\t\t\t\t\tthis.styleElement.style.color = this.styleElement._jscOrigStyle.color;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.exportColor(jsc.leaveValue | jsc.leaveStyle);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (!this.required && /^\\s*$/.test(this.valueElement.value)) {\r\n\t\t\t\t\t\tthis.valueElement.value = '';\r\n\t\t\t\t\t\tif (this.styleElement) {\r\n\t\t\t\t\t\t\tthis.styleElement.style.backgroundImage = this.styleElement._jscOrigStyle.backgroundImage;\r\n\t\t\t\t\t\t\tthis.styleElement.style.backgroundColor = this.styleElement._jscOrigStyle.backgroundColor;\r\n\t\t\t\t\t\t\tthis.styleElement.style.color = this.styleElement._jscOrigStyle.color;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.exportColor(jsc.leaveValue | jsc.leaveStyle);\r\n\r\n\t\t\t\t\t} else if (this.fromString(this.valueElement.value)) {\r\n\t\t\t\t\t\t// managed to import color successfully from the value -> OK, don't do anything\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.exportColor();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// not an input element -> doesn't have any value\r\n\t\t\t\t\tthis.exportColor();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.exportColor = function (flags) {\r\n\t\t\tif (!(flags & jsc.leaveValue) && this.valueElement) {\r\n\t\t\t\tvar value = this.toString();\r\n\t\t\t\tif (this.uppercase) { value = value.toUpperCase(); }\r\n\t\t\t\tif (this.hash) { value = '#' + value; }\r\n\r\n\t\t\t\tif (jsc.isElementType(this.valueElement, 'input')) {\r\n\t\t\t\t\tthis.valueElement.value = value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.valueElement.innerHTML = value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!(flags & jsc.leaveStyle)) {\r\n\t\t\t\tif (this.styleElement) {\r\n\t\t\t\t\tvar bgColor = '#' + this.toString();\r\n\t\t\t\t\tvar fgColor = this.isLight() ? '#000' : '#FFF';\r\n\r\n\t\t\t\t\tthis.styleElement.style.backgroundImage = 'none';\r\n\t\t\t\t\tthis.styleElement.style.backgroundColor = bgColor;\r\n\t\t\t\t\tthis.styleElement.style.color = fgColor;\r\n\r\n\t\t\t\t\tif (this.overwriteImportant) {\r\n\t\t\t\t\t\tthis.styleElement.setAttribute('style',\r\n\t\t\t\t\t\t\t'background: ' + bgColor + ' !important; ' +\r\n\t\t\t\t\t\t\t'color: ' + fgColor + ' !important;'\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!(flags & jsc.leavePad) && isPickerOwner()) {\r\n\t\t\t\tredrawPad();\r\n\t\t\t}\r\n\t\t\tif (!(flags & jsc.leaveSld) && isPickerOwner()) {\r\n\t\t\t\tredrawSld();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\t// h: 0-360\r\n\t\t// s: 0-100\r\n\t\t// v: 0-100\r\n\t\t//\r\n\t\tthis.fromHSV = function (h, s, v, flags) { // null = don't change\r\n\t\t\tif (h !== null) {\r\n\t\t\t\tif (isNaN(h)) { return false; }\r\n\t\t\t\th = Math.max(0, Math.min(360, h));\r\n\t\t\t}\r\n\t\t\tif (s !== null) {\r\n\t\t\t\tif (isNaN(s)) { return false; }\r\n\t\t\t\ts = Math.max(0, Math.min(100, this.maxS, s), this.minS);\r\n\t\t\t}\r\n\t\t\tif (v !== null) {\r\n\t\t\t\tif (isNaN(v)) { return false; }\r\n\t\t\t\tv = Math.max(0, Math.min(100, this.maxV, v), this.minV);\r\n\t\t\t}\r\n\r\n\t\t\tthis.rgb = HSV_RGB(\r\n\t\t\t\th===null ? this.hsv[0] : (this.hsv[0]=h),\r\n\t\t\t\ts===null ? this.hsv[1] : (this.hsv[1]=s),\r\n\t\t\t\tv===null ? this.hsv[2] : (this.hsv[2]=v)\r\n\t\t\t);\r\n\r\n\t\t\tthis.exportColor(flags);\r\n\t\t};\r\n\r\n\r\n\t\t// r: 0-255\r\n\t\t// g: 0-255\r\n\t\t// b: 0-255\r\n\t\t//\r\n\t\tthis.fromRGB = function (r, g, b, flags) { // null = don't change\r\n\t\t\tif (r !== null) {\r\n\t\t\t\tif (isNaN(r)) { return false; }\r\n\t\t\t\tr = Math.max(0, Math.min(255, r));\r\n\t\t\t}\r\n\t\t\tif (g !== null) {\r\n\t\t\t\tif (isNaN(g)) { return false; }\r\n\t\t\t\tg = Math.max(0, Math.min(255, g));\r\n\t\t\t}\r\n\t\t\tif (b !== null) {\r\n\t\t\t\tif (isNaN(b)) { return false; }\r\n\t\t\t\tb = Math.max(0, Math.min(255, b));\r\n\t\t\t}\r\n\r\n\t\t\tvar hsv = RGB_HSV(\r\n\t\t\t\tr===null ? this.rgb[0] : r,\r\n\t\t\t\tg===null ? this.rgb[1] : g,\r\n\t\t\t\tb===null ? this.rgb[2] : b\r\n\t\t\t);\r\n\t\t\tif (hsv[0] !== null) {\r\n\t\t\t\tthis.hsv[0] = Math.max(0, Math.min(360, hsv[0]));\r\n\t\t\t}\r\n\t\t\tif (hsv[2] !== 0) {\r\n\t\t\t\tthis.hsv[1] = hsv[1]===null ? null : Math.max(0, this.minS, Math.min(100, this.maxS, hsv[1]));\r\n\t\t\t}\r\n\t\t\tthis.hsv[2] = hsv[2]===null ? null : Math.max(0, this.minV, Math.min(100, this.maxV, hsv[2]));\r\n\r\n\t\t\t// update RGB according to final HSV, as some values might be trimmed\r\n\t\t\tvar rgb = HSV_RGB(this.hsv[0], this.hsv[1], this.hsv[2]);\r\n\t\t\tthis.rgb[0] = rgb[0];\r\n\t\t\tthis.rgb[1] = rgb[1];\r\n\t\t\tthis.rgb[2] = rgb[2];\r\n\r\n\t\t\tthis.exportColor(flags);\r\n\t\t};\r\n\r\n\r\n\t\tthis.fromString = function (str, flags) {\r\n\t\t\tvar m;\r\n\t\t\tif (m = str.match(/^\\W*([0-9A-F]{3}([0-9A-F]{3})?)\\W*$/i)) {\r\n\t\t\t\t// HEX notation\r\n\t\t\t\t//\r\n\r\n\t\t\t\tif (m[1].length === 6) {\r\n\t\t\t\t\t// 6-char notation\r\n\t\t\t\t\tthis.fromRGB(\r\n\t\t\t\t\t\tparseInt(m[1].substr(0,2),16),\r\n\t\t\t\t\t\tparseInt(m[1].substr(2,2),16),\r\n\t\t\t\t\t\tparseInt(m[1].substr(4,2),16),\r\n\t\t\t\t\t\tflags\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 3-char notation\r\n\t\t\t\t\tthis.fromRGB(\r\n\t\t\t\t\t\tparseInt(m[1].charAt(0) + m[1].charAt(0),16),\r\n\t\t\t\t\t\tparseInt(m[1].charAt(1) + m[1].charAt(1),16),\r\n\t\t\t\t\t\tparseInt(m[1].charAt(2) + m[1].charAt(2),16),\r\n\t\t\t\t\t\tflags\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t} else if (m = str.match(/^\\W*rgba?\\(([^)]*)\\)\\W*$/i)) {\r\n\t\t\t\tvar params = m[1].split(',');\r\n\t\t\t\tvar re = /^\\s*(\\d*)(\\.\\d+)?\\s*$/;\r\n\t\t\t\tvar mR, mG, mB;\r\n\t\t\t\tif (\r\n\t\t\t\t\tparams.length >= 3 &&\r\n\t\t\t\t\t(mR = params[0].match(re)) &&\r\n\t\t\t\t\t(mG = params[1].match(re)) &&\r\n\t\t\t\t\t(mB = params[2].match(re))\r\n\t\t\t\t) {\r\n\t\t\t\t\tvar r = parseFloat((mR[1] || '0') + (mR[2] || ''));\r\n\t\t\t\t\tvar g = parseFloat((mG[1] || '0') + (mG[2] || ''));\r\n\t\t\t\t\tvar b = parseFloat((mB[1] || '0') + (mB[2] || ''));\r\n\t\t\t\t\tthis.fromRGB(r, g, b, flags);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t};\r\n\r\n\r\n\t\tthis.toString = function () {\r\n\t\t\treturn (\r\n\t\t\t\t(0x100 | Math.round(this.rgb[0])).toString(16).substr(1) +\r\n\t\t\t\t(0x100 | Math.round(this.rgb[1])).toString(16).substr(1) +\r\n\t\t\t\t(0x100 | Math.round(this.rgb[2])).toString(16).substr(1)\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis.toHEXString = function () {\r\n\t\t\treturn '#' + this.toString().toUpperCase();\r\n\t\t};\r\n\r\n\r\n\t\tthis.toRGBString = function () {\r\n\t\t\treturn ('rgb(' +\r\n\t\t\t\tMath.round(this.rgb[0]) + ',' +\r\n\t\t\t\tMath.round(this.rgb[1]) + ',' +\r\n\t\t\t\tMath.round(this.rgb[2]) + ')'\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis.isLight = function () {\r\n\t\t\treturn (\r\n\t\t\t\t0.213 * this.rgb[0] +\r\n\t\t\t\t0.715 * this.rgb[1] +\r\n\t\t\t\t0.072 * this.rgb[2] >\r\n\t\t\t\t255 / 2\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis._processParentElementsInDOM = function () {\r\n\t\t\tif (this._linkedElementsProcessed) { return; }\r\n\t\t\tthis._linkedElementsProcessed = true;\r\n\r\n\t\t\tvar elm = this.targetElement;\r\n\t\t\tdo {\r\n\t\t\t\t// If the target element or one of its parent nodes has fixed position,\r\n\t\t\t\t// then use fixed positioning instead\r\n\t\t\t\t//\r\n\t\t\t\t// Note: In Firefox, getComputedStyle returns null in a hidden iframe,\r\n\t\t\t\t// that's why we need to check if the returned style object is non-empty\r\n\t\t\t\tvar currStyle = jsc.getStyle(elm);\r\n\t\t\t\tif (currStyle && currStyle.position.toLowerCase() === 'fixed') {\r\n\t\t\t\t\tthis.fixed = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elm !== this.targetElement) {\r\n\t\t\t\t\t// Ensure to attach onParentScroll only once to each parent element\r\n\t\t\t\t\t// (multiple targetElements can share the same parent nodes)\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// Note: It's not just offsetParents that can be scrollable,\r\n\t\t\t\t\t// that's why we loop through all parent nodes\r\n\t\t\t\t\tif (!elm._jscEventsAttached) {\r\n\t\t\t\t\t\tjsc.attachEvent(elm, 'scroll', jsc.onParentScroll);\r\n\t\t\t\t\t\telm._jscEventsAttached = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} while ((elm = elm.parentNode) && !jsc.isElementType(elm, 'body'));\r\n\t\t};\r\n\r\n\r\n\t\t// r: 0-255\r\n\t\t// g: 0-255\r\n\t\t// b: 0-255\r\n\t\t//\r\n\t\t// returns: [ 0-360, 0-100, 0-100 ]\r\n\t\t//\r\n\t\tfunction RGB_HSV (r, g, b) {\r\n\t\t\tr /= 255;\r\n\t\t\tg /= 255;\r\n\t\t\tb /= 255;\r\n\t\t\tvar n = Math.min(Math.min(r,g),b);\r\n\t\t\tvar v = Math.max(Math.max(r,g),b);\r\n\t\t\tvar m = v - n;\r\n\t\t\tif (m === 0) { return [ null, 0, 100 * v ]; }\r\n\t\t\tvar h = r===n ? 3+(b-g)/m : (g===n ? 5+(r-b)/m : 1+(g-r)/m);\r\n\t\t\treturn [\r\n\t\t\t\t60 * (h===6?0:h),\r\n\t\t\t\t100 * (m/v),\r\n\t\t\t\t100 * v\r\n\t\t\t];\r\n\t\t}\r\n\r\n\r\n\t\t// h: 0-360\r\n\t\t// s: 0-100\r\n\t\t// v: 0-100\r\n\t\t//\r\n\t\t// returns: [ 0-255, 0-255, 0-255 ]\r\n\t\t//\r\n\t\tfunction HSV_RGB (h, s, v) {\r\n\t\t\tvar u = 255 * (v / 100);\r\n\r\n\t\t\tif (h === null) {\r\n\t\t\t\treturn [ u, u, u ];\r\n\t\t\t}\r\n\r\n\t\t\th /= 60;\r\n\t\t\ts /= 100;\r\n\r\n\t\t\tvar i = Math.floor(h);\r\n\t\t\tvar f = i%2 ? h-i : 1-(h-i);\r\n\t\t\tvar m = u * (1 - s);\r\n\t\t\tvar n = u * (1 - s * f);\r\n\t\t\tswitch (i) {\r\n\t\t\t\tcase 6:\r\n\t\t\t\tcase 0: return [u,n,m];\r\n\t\t\t\tcase 1: return [n,u,m];\r\n\t\t\t\tcase 2: return [m,u,n];\r\n\t\t\t\tcase 3: return [m,n,u];\r\n\t\t\t\tcase 4: return [n,m,u];\r\n\t\t\t\tcase 5: return [u,m,n];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tfunction detachPicker () {\r\n\t\t\tjsc.unsetClass(THIS.targetElement, THIS.activeClass);\r\n\t\t\tjsc.picker.wrap.parentNode.removeChild(jsc.picker.wrap);\r\n\t\t\tdelete jsc.picker.owner;\r\n\t\t}\r\n\r\n\r\n\t\tfunction drawPicker () {\r\n\r\n\t\t\t// At this point, when drawing the picker, we know what the parent elements are\r\n\t\t\t// and we can do all related DOM operations, such as registering events on them\r\n\t\t\t// or checking their positioning\r\n\t\t\tTHIS._processParentElementsInDOM();\r\n\r\n\t\t\tif (!jsc.picker) {\r\n\t\t\t\tjsc.picker = {\r\n\t\t\t\t\towner: null,\r\n\t\t\t\t\twrap : document.createElement('div'),\r\n\t\t\t\t\tbox : document.createElement('div'),\r\n\t\t\t\t\tboxS : document.createElement('div'), // shadow area\r\n\t\t\t\t\tboxB : document.createElement('div'), // border\r\n\t\t\t\t\tpad : document.createElement('div'),\r\n\t\t\t\t\tpadB : document.createElement('div'), // border\r\n\t\t\t\t\tpadM : document.createElement('div'), // mouse/touch area\r\n\t\t\t\t\tpadPal : jsc.createPalette(),\r\n\t\t\t\t\tcross : document.createElement('div'),\r\n\t\t\t\t\tcrossBY : document.createElement('div'), // border Y\r\n\t\t\t\t\tcrossBX : document.createElement('div'), // border X\r\n\t\t\t\t\tcrossLY : document.createElement('div'), // line Y\r\n\t\t\t\t\tcrossLX : document.createElement('div'), // line X\r\n\t\t\t\t\tsld : document.createElement('div'),\r\n\t\t\t\t\tsldB : document.createElement('div'), // border\r\n\t\t\t\t\tsldM : document.createElement('div'), // mouse/touch area\r\n\t\t\t\t\tsldGrad : jsc.createSliderGradient(),\r\n\t\t\t\t\tsldPtrS : document.createElement('div'), // slider pointer spacer\r\n\t\t\t\t\tsldPtrIB : document.createElement('div'), // slider pointer inner border\r\n\t\t\t\t\tsldPtrMB : document.createElement('div'), // slider pointer middle border\r\n\t\t\t\t\tsldPtrOB : document.createElement('div'), // slider pointer outer border\r\n\t\t\t\t\tbtn : document.createElement('div'),\r\n\t\t\t\t\tbtnT : document.createElement('span') // text\r\n\t\t\t\t};\r\n\r\n\t\t\t\tjsc.picker.pad.appendChild(jsc.picker.padPal.elm);\r\n\t\t\t\tjsc.picker.padB.appendChild(jsc.picker.pad);\r\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossBY);\r\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossBX);\r\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossLY);\r\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossLX);\r\n\t\t\t\tjsc.picker.padB.appendChild(jsc.picker.cross);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.padB);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.padM);\r\n\r\n\t\t\t\tjsc.picker.sld.appendChild(jsc.picker.sldGrad.elm);\r\n\t\t\t\tjsc.picker.sldB.appendChild(jsc.picker.sld);\r\n\t\t\t\tjsc.picker.sldB.appendChild(jsc.picker.sldPtrOB);\r\n\t\t\t\tjsc.picker.sldPtrOB.appendChild(jsc.picker.sldPtrMB);\r\n\t\t\t\tjsc.picker.sldPtrMB.appendChild(jsc.picker.sldPtrIB);\r\n\t\t\t\tjsc.picker.sldPtrIB.appendChild(jsc.picker.sldPtrS);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.sldB);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.sldM);\r\n\r\n\t\t\t\tjsc.picker.btn.appendChild(jsc.picker.btnT);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.btn);\r\n\r\n\t\t\t\tjsc.picker.boxB.appendChild(jsc.picker.box);\r\n\t\t\t\tjsc.picker.wrap.appendChild(jsc.picker.boxS);\r\n\t\t\t\tjsc.picker.wrap.appendChild(jsc.picker.boxB);\r\n\t\t\t}\r\n\r\n\t\t\tvar p = jsc.picker;\r\n\r\n\t\t\tvar displaySlider = !!jsc.getSliderComponent(THIS);\r\n\t\t\tvar dims = jsc.getPickerDims(THIS);\r\n\t\t\tvar crossOuterSize = (2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize);\r\n\t\t\tvar padToSliderPadding = jsc.getPadToSliderPadding(THIS);\r\n\t\t\tvar borderRadius = Math.min(\r\n\t\t\t\tTHIS.borderRadius,\r\n\t\t\t\tMath.round(THIS.padding * Math.PI)); // px\r\n\t\t\tvar padCursor = 'crosshair';\r\n\r\n\t\t\t// wrap\r\n\t\t\tp.wrap.style.clear = 'both';\r\n\t\t\tp.wrap.style.width = (dims[0] + 2 * THIS.borderWidth) + 'px';\r\n\t\t\tp.wrap.style.height = (dims[1] + 2 * THIS.borderWidth) + 'px';\r\n\t\t\tp.wrap.style.zIndex = THIS.zIndex;\r\n\r\n\t\t\t// picker\r\n\t\t\tp.box.style.width = dims[0] + 'px';\r\n\t\t\tp.box.style.height = dims[1] + 'px';\r\n\r\n\t\t\tp.boxS.style.position = 'absolute';\r\n\t\t\tp.boxS.style.left = '0';\r\n\t\t\tp.boxS.style.top = '0';\r\n\t\t\tp.boxS.style.width = '100%';\r\n\t\t\tp.boxS.style.height = '100%';\r\n\t\t\tjsc.setBorderRadius(p.boxS, borderRadius + 'px');\r\n\r\n\t\t\t// picker border\r\n\t\t\tp.boxB.style.position = 'relative';\r\n\t\t\tp.boxB.style.border = THIS.borderWidth + 'px solid';\r\n\t\t\tp.boxB.style.borderColor = THIS.borderColor;\r\n\t\t\tp.boxB.style.background = THIS.backgroundColor;\r\n\t\t\tjsc.setBorderRadius(p.boxB, borderRadius + 'px');\r\n\r\n\t\t\t// IE hack:\r\n\t\t\t// If the element is transparent, IE will trigger the event on the elements under it,\r\n\t\t\t// e.g. on Canvas or on elements with border\r\n\t\t\tp.padM.style.background =\r\n\t\t\tp.sldM.style.background =\r\n\t\t\t\t'#FFF';\r\n\t\t\tjsc.setStyle(p.padM, 'opacity', '0');\r\n\t\t\tjsc.setStyle(p.sldM, 'opacity', '0');\r\n\r\n\t\t\t// pad\r\n\t\t\tp.pad.style.position = 'relative';\r\n\t\t\tp.pad.style.width = THIS.width + 'px';\r\n\t\t\tp.pad.style.height = THIS.height + 'px';\r\n\r\n\t\t\t// pad palettes (HSV and HVS)\r\n\t\t\tp.padPal.draw(THIS.width, THIS.height, jsc.getPadYComponent(THIS));\r\n\r\n\t\t\t// pad border\r\n\t\t\tp.padB.style.position = 'absolute';\r\n\t\t\tp.padB.style.left = THIS.padding + 'px';\r\n\t\t\tp.padB.style.top = THIS.padding + 'px';\r\n\t\t\tp.padB.style.border = THIS.insetWidth + 'px solid';\r\n\t\t\tp.padB.style.borderColor = THIS.insetColor;\r\n\r\n\t\t\t// pad mouse area\r\n\t\t\tp.padM._jscInstance = THIS;\r\n\t\t\tp.padM._jscControlName = 'pad';\r\n\t\t\tp.padM.style.position = 'absolute';\r\n\t\t\tp.padM.style.left = '0';\r\n\t\t\tp.padM.style.top = '0';\r\n\t\t\tp.padM.style.width = (THIS.padding + 2 * THIS.insetWidth + THIS.width + padToSliderPadding / 2) + 'px';\r\n\t\t\tp.padM.style.height = dims[1] + 'px';\r\n\t\t\tp.padM.style.cursor = padCursor;\r\n\r\n\t\t\t// pad cross\r\n\t\t\tp.cross.style.position = 'absolute';\r\n\t\t\tp.cross.style.left =\r\n\t\t\tp.cross.style.top =\r\n\t\t\t\t'0';\r\n\t\t\tp.cross.style.width =\r\n\t\t\tp.cross.style.height =\r\n\t\t\t\tcrossOuterSize + 'px';\r\n\r\n\t\t\t// pad cross border Y and X\r\n\t\t\tp.crossBY.style.position =\r\n\t\t\tp.crossBX.style.position =\r\n\t\t\t\t'absolute';\r\n\t\t\tp.crossBY.style.background =\r\n\t\t\tp.crossBX.style.background =\r\n\t\t\t\tTHIS.pointerBorderColor;\r\n\t\t\tp.crossBY.style.width =\r\n\t\t\tp.crossBX.style.height =\r\n\t\t\t\t(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + 'px';\r\n\t\t\tp.crossBY.style.height =\r\n\t\t\tp.crossBX.style.width =\r\n\t\t\t\tcrossOuterSize + 'px';\r\n\t\t\tp.crossBY.style.left =\r\n\t\t\tp.crossBX.style.top =\r\n\t\t\t\t(Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2) - THIS.pointerBorderWidth) + 'px';\r\n\t\t\tp.crossBY.style.top =\r\n\t\t\tp.crossBX.style.left =\r\n\t\t\t\t'0';\r\n\r\n\t\t\t// pad cross line Y and X\r\n\t\t\tp.crossLY.style.position =\r\n\t\t\tp.crossLX.style.position =\r\n\t\t\t\t'absolute';\r\n\t\t\tp.crossLY.style.background =\r\n\t\t\tp.crossLX.style.background =\r\n\t\t\t\tTHIS.pointerColor;\r\n\t\t\tp.crossLY.style.height =\r\n\t\t\tp.crossLX.style.width =\r\n\t\t\t\t(crossOuterSize - 2 * THIS.pointerBorderWidth) + 'px';\r\n\t\t\tp.crossLY.style.width =\r\n\t\t\tp.crossLX.style.height =\r\n\t\t\t\tTHIS.pointerThickness + 'px';\r\n\t\t\tp.crossLY.style.left =\r\n\t\t\tp.crossLX.style.top =\r\n\t\t\t\t(Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2)) + 'px';\r\n\t\t\tp.crossLY.style.top =\r\n\t\t\tp.crossLX.style.left =\r\n\t\t\t\tTHIS.pointerBorderWidth + 'px';\r\n\r\n\t\t\t// slider\r\n\t\t\tp.sld.style.overflow = 'hidden';\r\n\t\t\tp.sld.style.width = THIS.sliderSize + 'px';\r\n\t\t\tp.sld.style.height = THIS.height + 'px';\r\n\r\n\t\t\t// slider gradient\r\n\t\t\tp.sldGrad.draw(THIS.sliderSize, THIS.height, '#000', '#000');\r\n\r\n\t\t\t// slider border\r\n\t\t\tp.sldB.style.display = displaySlider ? 'block' : 'none';\r\n\t\t\tp.sldB.style.position = 'absolute';\r\n\t\t\tp.sldB.style.right = THIS.padding + 'px';\r\n\t\t\tp.sldB.style.top = THIS.padding + 'px';\r\n\t\t\tp.sldB.style.border = THIS.insetWidth + 'px solid';\r\n\t\t\tp.sldB.style.borderColor = THIS.insetColor;\r\n\r\n\t\t\t// slider mouse area\r\n\t\t\tp.sldM._jscInstance = THIS;\r\n\t\t\tp.sldM._jscControlName = 'sld';\r\n\t\t\tp.sldM.style.display = displaySlider ? 'block' : 'none';\r\n\t\t\tp.sldM.style.position = 'absolute';\r\n\t\t\tp.sldM.style.right = '0';\r\n\t\t\tp.sldM.style.top = '0';\r\n\t\t\tp.sldM.style.width = (THIS.sliderSize + padToSliderPadding / 2 + THIS.padding + 2 * THIS.insetWidth) + 'px';\r\n\t\t\tp.sldM.style.height = dims[1] + 'px';\r\n\t\t\tp.sldM.style.cursor = 'default';\r\n\r\n\t\t\t// slider pointer inner and outer border\r\n\t\t\tp.sldPtrIB.style.border =\r\n\t\t\tp.sldPtrOB.style.border =\r\n\t\t\t\tTHIS.pointerBorderWidth + 'px solid ' + THIS.pointerBorderColor;\r\n\r\n\t\t\t// slider pointer outer border\r\n\t\t\tp.sldPtrOB.style.position = 'absolute';\r\n\t\t\tp.sldPtrOB.style.left = -(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + 'px';\r\n\t\t\tp.sldPtrOB.style.top = '0';\r\n\r\n\t\t\t// slider pointer middle border\r\n\t\t\tp.sldPtrMB.style.border = THIS.pointerThickness + 'px solid ' + THIS.pointerColor;\r\n\r\n\t\t\t// slider pointer spacer\r\n\t\t\tp.sldPtrS.style.width = THIS.sliderSize + 'px';\r\n\t\t\tp.sldPtrS.style.height = sliderPtrSpace + 'px';\r\n\r\n\t\t\t// the Close button\r\n\t\t\tfunction setBtnBorder () {\r\n\t\t\t\tvar insetColors = THIS.insetColor.split(/\\s+/);\r\n\t\t\t\tvar outsetColor = insetColors.length < 2 ? insetColors[0] : insetColors[1] + ' ' + insetColors[0] + ' ' + insetColors[0] + ' ' + insetColors[1];\r\n\t\t\t\tp.btn.style.borderColor = outsetColor;\r\n\t\t\t}\r\n\t\t\tp.btn.style.display = THIS.closable ? 'block' : 'none';\r\n\t\t\tp.btn.style.position = 'absolute';\r\n\t\t\tp.btn.style.left = THIS.padding + 'px';\r\n\t\t\tp.btn.style.bottom = THIS.padding + 'px';\r\n\t\t\tp.btn.style.padding = '0 15px';\r\n\t\t\tp.btn.style.height = THIS.buttonHeight + 'px';\r\n\t\t\tp.btn.style.border = THIS.insetWidth + 'px solid';\r\n\t\t\tsetBtnBorder();\r\n\t\t\tp.btn.style.color = THIS.buttonColor;\r\n\t\t\tp.btn.style.font = '12px sans-serif';\r\n\t\t\tp.btn.style.textAlign = 'center';\r\n\t\t\ttry {\r\n\t\t\t\tp.btn.style.cursor = 'pointer';\r\n\t\t\t} catch(eOldIE) {\r\n\t\t\t\tp.btn.style.cursor = 'hand';\r\n\t\t\t}\r\n\t\t\tp.btn.onmousedown = function () {\r\n\t\t\t\tTHIS.hide();\r\n\t\t\t};\r\n\t\t\tp.btnT.style.lineHeight = THIS.buttonHeight + 'px';\r\n\t\t\tp.btnT.innerHTML = '';\r\n\t\t\tp.btnT.appendChild(document.createTextNode(THIS.closeText));\r\n\r\n\t\t\t// place pointers\r\n\t\t\tredrawPad();\r\n\t\t\tredrawSld();\r\n\r\n\t\t\t// If we are changing the owner without first closing the picker,\r\n\t\t\t// make sure to first deal with the old owner\r\n\t\t\tif (jsc.picker.owner && jsc.picker.owner !== THIS) {\r\n\t\t\t\tjsc.unsetClass(jsc.picker.owner.targetElement, THIS.activeClass);\r\n\t\t\t}\r\n\r\n\t\t\t// Set the new picker owner\r\n\t\t\tjsc.picker.owner = THIS;\r\n\r\n\t\t\t// The redrawPosition() method needs picker.owner to be set, that's why we call it here,\r\n\t\t\t// after setting the owner\r\n\t\t\tif (jsc.isElementType(container, 'body')) {\r\n\t\t\t\tjsc.redrawPosition();\r\n\t\t\t} else {\r\n\t\t\t\tjsc._drawPosition(THIS, 0, 0, 'relative', false);\r\n\t\t\t}\r\n\r\n\t\t\tif (p.wrap.parentNode != container) {\r\n\t\t\t\tcontainer.appendChild(p.wrap);\r\n\t\t\t}\r\n\r\n\t\t\tjsc.setClass(THIS.targetElement, THIS.activeClass);\r\n\t\t}\r\n\r\n\r\n\t\tfunction redrawPad () {\r\n\t\t\t// redraw the pad pointer\r\n\t\t\tswitch (jsc.getPadYComponent(THIS)) {\r\n\t\t\tcase 's': var yComponent = 1; break;\r\n\t\t\tcase 'v': var yComponent = 2; break;\r\n\t\t\t}\r\n\t\t\tvar x = Math.round((THIS.hsv[0] / 360) * (THIS.width - 1));\r\n\t\t\tvar y = Math.round((1 - THIS.hsv[yComponent] / 100) * (THIS.height - 1));\r\n\t\t\tvar crossOuterSize = (2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize);\r\n\t\t\tvar ofs = -Math.floor(crossOuterSize / 2);\r\n\t\t\tjsc.picker.cross.style.left = (x + ofs) + 'px';\r\n\t\t\tjsc.picker.cross.style.top = (y + ofs) + 'px';\r\n\r\n\t\t\t// redraw the slider\r\n\t\t\tswitch (jsc.getSliderComponent(THIS)) {\r\n\t\t\tcase 's':\r\n\t\t\t\tvar rgb1 = HSV_RGB(THIS.hsv[0], 100, THIS.hsv[2]);\r\n\t\t\t\tvar rgb2 = HSV_RGB(THIS.hsv[0], 0, THIS.hsv[2]);\r\n\t\t\t\tvar color1 = 'rgb(' +\r\n\t\t\t\t\tMath.round(rgb1[0]) + ',' +\r\n\t\t\t\t\tMath.round(rgb1[1]) + ',' +\r\n\t\t\t\t\tMath.round(rgb1[2]) + ')';\r\n\t\t\t\tvar color2 = 'rgb(' +\r\n\t\t\t\t\tMath.round(rgb2[0]) + ',' +\r\n\t\t\t\t\tMath.round(rgb2[1]) + ',' +\r\n\t\t\t\t\tMath.round(rgb2[2]) + ')';\r\n\t\t\t\tjsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'v':\r\n\t\t\t\tvar rgb = HSV_RGB(THIS.hsv[0], THIS.hsv[1], 100);\r\n\t\t\t\tvar color1 = 'rgb(' +\r\n\t\t\t\t\tMath.round(rgb[0]) + ',' +\r\n\t\t\t\t\tMath.round(rgb[1]) + ',' +\r\n\t\t\t\t\tMath.round(rgb[2]) + ')';\r\n\t\t\t\tvar color2 = '#000';\r\n\t\t\t\tjsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tfunction redrawSld () {\r\n\t\t\tvar sldComponent = jsc.getSliderComponent(THIS);\r\n\t\t\tif (sldComponent) {\r\n\t\t\t\t// redraw the slider pointer\r\n\t\t\t\tswitch (sldComponent) {\r\n\t\t\t\tcase 's': var yComponent = 1; break;\r\n\t\t\t\tcase 'v': var yComponent = 2; break;\r\n\t\t\t\t}\r\n\t\t\t\tvar y = Math.round((1 - THIS.hsv[yComponent] / 100) * (THIS.height - 1));\r\n\t\t\t\tjsc.picker.sldPtrOB.style.top = (y - (2 * THIS.pointerBorderWidth + THIS.pointerThickness) - Math.floor(sliderPtrSpace / 2)) + 'px';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tfunction isPickerOwner () {\r\n\t\t\treturn jsc.picker && jsc.picker.owner === THIS;\r\n\t\t}\r\n\r\n\r\n\t\tfunction blurValue () {\r\n\t\t\tTHIS.importColor();\r\n\t\t}\r\n\r\n\r\n\t\t// Find the target element\r\n\t\tif (typeof targetElement === 'string') {\r\n\t\t\tvar id = targetElement;\r\n\t\t\tvar elm = document.getElementById(id);\r\n\t\t\tif (elm) {\r\n\t\t\t\tthis.targetElement = elm;\r\n\t\t\t} else {\r\n\t\t\t\tjsc.warn('Could not find target element with ID \\'' + id + '\\'');\r\n\t\t\t}\r\n\t\t} else if (targetElement) {\r\n\t\t\tthis.targetElement = targetElement;\r\n\t\t} else {\r\n\t\t\tjsc.warn('Invalid target element: \\'' + targetElement + '\\'');\r\n\t\t}\r\n\r\n\t\tif (this.targetElement._jscLinkedInstance) {\r\n\t\t\tjsc.warn('Cannot link jscolor twice to the same element. Skipping.');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.targetElement._jscLinkedInstance = this;\r\n\r\n\t\t// Find the value element\r\n\t\tthis.valueElement = jsc.fetchElement(this.valueElement);\r\n\t\t// Find the style element\r\n\t\tthis.styleElement = jsc.fetchElement(this.styleElement);\r\n\r\n\t\tvar THIS = this;\r\n\t\tvar container =\r\n\t\t\tthis.container ?\r\n\t\t\tjsc.fetchElement(this.container) :\r\n\t\t\tdocument.getElementsByTagName('body')[0];\r\n\t\tvar sliderPtrSpace = 3; // px\r\n\r\n\t\t// For BUTTON elements it's important to stop them from sending the form when clicked\r\n\t\t// (e.g. in Safari)\r\n\t\tif (jsc.isElementType(this.targetElement, 'button')) {\r\n\t\t\tif (this.targetElement.onclick) {\r\n\t\t\t\tvar origCallback = this.targetElement.onclick;\r\n\t\t\t\tthis.targetElement.onclick = function (evt) {\r\n\t\t\t\t\torigCallback.call(this, evt);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tthis.targetElement.onclick = function () { return false; };\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\tvar elm = this.targetElement;\r\n\t\tdo {\r\n\t\t\t// If the target element or one of its offsetParents has fixed position,\r\n\t\t\t// then use fixed positioning instead\r\n\t\t\t//\r\n\t\t\t// Note: In Firefox, getComputedStyle returns null in a hidden iframe,\r\n\t\t\t// that's why we need to check if the returned style object is non-empty\r\n\t\t\tvar currStyle = jsc.getStyle(elm);\r\n\t\t\tif (currStyle && currStyle.position.toLowerCase() === 'fixed') {\r\n\t\t\t\tthis.fixed = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (elm !== this.targetElement) {\r\n\t\t\t\t// attach onParentScroll so that we can recompute the picker position\r\n\t\t\t\t// when one of the offsetParents is scrolled\r\n\t\t\t\tif (!elm._jscEventsAttached) {\r\n\t\t\t\t\tjsc.attachEvent(elm, 'scroll', jsc.onParentScroll);\r\n\t\t\t\t\telm._jscEventsAttached = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} while ((elm = elm.offsetParent) && !jsc.isElementType(elm, 'body'));\r\n\t\t*/\r\n\r\n\t\t// valueElement\r\n\t\tif (this.valueElement) {\r\n\t\t\tif (jsc.isElementType(this.valueElement, 'input')) {\r\n\t\t\t\tvar updateField = function () {\r\n\t\t\t\t\tTHIS.fromString(THIS.valueElement.value, jsc.leaveValue);\r\n\t\t\t\t\tjsc.dispatchFineChange(THIS);\r\n\t\t\t\t};\r\n\t\t\t\tjsc.attachEvent(this.valueElement, 'keyup', updateField);\r\n\t\t\t\tjsc.attachEvent(this.valueElement, 'input', updateField);\r\n\t\t\t\tjsc.attachEvent(this.valueElement, 'blur', blurValue);\r\n\t\t\t\tthis.valueElement.setAttribute('autocomplete', 'off');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// styleElement\r\n\t\tif (this.styleElement) {\r\n\t\t\tthis.styleElement._jscOrigStyle = {\r\n\t\t\t\tbackgroundImage : this.styleElement.style.backgroundImage,\r\n\t\t\t\tbackgroundColor : this.styleElement.style.backgroundColor,\r\n\t\t\t\tcolor : this.styleElement.style.color\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tif (this.value) {\r\n\t\t\t// Try to set the color from the .value option and if unsuccessful,\r\n\t\t\t// export the current color\r\n\t\t\tthis.fromString(this.value) || this.exportColor();\r\n\t\t} else {\r\n\t\t\tthis.importColor();\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\n\r\n//================================\r\n// Public properties and methods\r\n//================================\r\n\r\n\r\n// By default, search for all elements with class=\"jscolor\" and install a color picker on them.\r\n//\r\n// You can change what class name will be looked for by setting the property jscolor.lookupClass\r\n// anywhere in your HTML document. To completely disable the automatic lookup, set it to null.\r\n//\r\njsc.jscolor.lookupClass = 'jscolor';\r\n\r\n\r\njsc.jscolor.installByClassName = function (className) {\r\n\tvar inputElms = document.getElementsByTagName('input');\r\n\tvar buttonElms = document.getElementsByTagName('button');\r\n\r\n\tjsc.tryInstallOnElements(inputElms, className);\r\n\tjsc.tryInstallOnElements(buttonElms, className);\r\n};\r\n\r\n\r\njsc.register();\r\n\r\n\r\nreturn jsc.jscolor;\r\n\r\n\r\n})(); }\r\n"]}